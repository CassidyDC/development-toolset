colors: false # Removes ANSI escape codes from run script output, but not starting/ending output for vscode output panel.

pre-commit:
  parallel: false
  commands:
    eslint:
      priority: 1
      glob: '*.{js,mjs,cjs,ts,mts,cts,jsx,tsx}'
      run: npx eslint {staged_files} --fix
      stage_fixed: true
    stylelint:
      priority: 2
      glob: '*.{css,scss}'
      run: npx stylelint {staged_files} --fix
      stage_fixed: true
    markdownlint:
      priority: 3
      glob: '*.md'
      run: npx markdownlint-cli2 {staged_files} --fix
      stage_fixed: true
    prettier:
      priority: 4
      glob:
        - '*.{astro,elm,hbs,svelte,vue}'
        - '*.{css,less,sass,scss}'
        - '*.{graphql,gql}'
        - '*.{html,htm}'
        - '*.{js,cjs,mjs,jsx}'
        - '*.{json,jsonc,json5}'
        - '*.{md,mdx}'
        - '*.{toml,yaml,yml}'
        - '*.{ts,cts,mts,tsx}'
      run: npx prettier {staged_files} --write
      stage_fixed: true
    parallellint:
      priority: 5
      glob: '*.php'
      run: vendor/bin/parallel-lint {staged_files} --show-deprecated
    phpcbf:
      priority: 6
      glob: '*.php'
      run: ./vendor/bin/phpcbf {staged_files}
      stage_fixed: true
    phpcs:
      priority: 7
      glob: '*.php'
      run: ./vendor/bin/phpcs {staged_files}
    phpstan:
      priority: 8
      glob: '*.php'
      run: ./vendor/bin/phpstan analyse {staged_files} --memory-limit=2G
